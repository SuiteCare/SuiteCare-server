<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.suitecare.suitecare.api.patient.mapper.PatientMapper">

    <!-- 새로운 환자 등록 (/family/addPatient) - 기본정보  -->
    <insert id="addPatient" parameterType="AddPatientRequestDTO">
        insert into Patient (family_id, name, gender, birthday, height, weight, create_at, update_at)
        values (#{family_id}, #{name}, #{gender}, #{birthday}, #{height}, #{weight}, sysdate(), sysdate())
    </insert>

    <!-- 새로운 환자 등록 (/family/addPatient) - 상세정보 -->
    <insert id="addPatientDetail" parameterType="AddPatientRequestDTO">
        insert into PatientDetail (diagnosis_name, consciousness_state, need_meal_care, need_toilet_care, paralysis_state, behavioral_state, is_bedsore, need_suction, need_outpatient, need_night_care, notice)
        values (#{diagnosis_name}, #{consciousness_state}, #{paralysis_state}, #{behavioral_state}, #{need_meal_care}, #{need_toilet_care}, #{is_bedsore}, #{need_suction}, #{need_outpatient}, #{need_night_care}, #{notice})
    </insert>

</mapper>